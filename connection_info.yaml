aws_credentials_profile: default
iam_cloudformation_admin_role_arn: arn:aws:iam::851889773113:role/antipode-cloudformation-admin
iam_lambda_admin_role_arn: arn:aws:iam::851889773113:role/antipode-lambda-admin

lambda:
  network:
    eu-central-1:
      # cidr: 50.0.0.0/16
      vpc_id: vpc-046ebde198e614a9f
      subnet_id: subnet-0a722afed0c224760
      security_group_id: sg-06e89d1eec9546ab5
    us-east-1:
      # cidr: 51.0.0.0/16
      vpc_id: vpc-0a5ac82ccd60ed313
      subnet_id: subnet-0ec25eaeb81642e55
      security_group_id: sg-0747aa4724f69efdd
    ap-southeast-1:
      # cidr: 52.0.0.0/16
      vpc_id: vpc-06e0859f894b12cd3
      subnet_id: subnet-0e875f312fed07247
      security_group_id: sg-0a333b96e21577906
  s3_buckets:
    eu-central-1: antipode-lambda-eu-rendezvous
    us-east-1: antipode-lambda-us-rendezvous
    ap-southeast-1: antipode-lambda-sg-rendezvous

# when using storages that require vpc enabled (e.g. cache)
# rendezvous ip address must refer to the PRIVATE one
rendezvous:
  eu-central-1: 18.197.60.247:8001
  us-east-1: 3.83.158.201:8002
  ap-southeast-1: n/a

datastores:
  mysql:
    vpc_required: false
    # common
    port: 3306
    user: antipode
    password: antipode
    db: antipode
    post_table_name: blobs
    notifications_table_name: keyvalue
    antipode_table: cscopes
    rendezvous_table: rendezvous
    # writer eu
    host__eu-central-1__writer: antipode-lambda-eu.cluster-cowdztysvhul.eu-central-1.rds.amazonaws.com
    # reader us
    host__us-east-1__reader: antipode-lambda-us.cluster-ro-cfiggpj8crt2.us-east-1.rds.amazonaws.com
    # reader sg
    host__ap-southeast-1__reader: antipode-lambda-sg.cluster-ro-c9trn3kf4qh6.ap-southeast-1.rds.amazonaws.com
  dynamo:
    vpc_required: false
    # common
    post_table_name: blobs
    notifications_table_name: keyvalue
    antipode_table: cscopes
    rendezvous_table: rendezvous
    # reader us
    notifications_table_stream_arn__us-east-1: arn:aws:dynamodb:us-east-1:851889773113:table/keyvalue/stream/2023-04-19T10:28:17.397
    # reader sg
    notifications_table_stream_arn__ap-southeast-1: arn:aws:dynamodb:ap-southeast-1:851889773113:table/keyvalue/stream/2023-02-21T22:17:07.053
  sns:
    vpc_required: false
    # writer eu
    arn__eu-central-1__writer: arn:aws:sns:eu-central-1:851889773113:antipode-lambda-notifications
  s3:
    vpc_required: false
    # common
    antipode_path: antipode
    rendezvous_path: rendezvous
    # writer eu
    bucket__eu-central-1__writer: antipode-lambda-posts-eu-rendezvous
    # reader us
    bucket__us-east-1__reader: antipode-lambda-posts-us-rendezvous
    # reader sg
    bucket__ap-southeast-1__reader: antipode-lambda-posts-sg-rendezvous
  mq:
    vpc_required: false
    # common
    user: antipode
    password: antipode1antipode
    notification_queue: antipode-notifications
    stomp_port: 61614
    # writer eu
    name__eu-central-1: antipode-lambda-notifications-eu
    arn__eu-central-1: arn:aws:mq:eu-central-1:851889773113:broker:antipode-lambda-notifications-eu:b-92264a3d-516b-44ee-9432-dcd243569c72
    host__eu-central-1: b-92264a3d-516b-44ee-9432-dcd243569c72-1.mq.eu-central-1.amazonaws.com
    # reader us
    name__us-east-1: antipode-lambda-notifications-us
    arn__us-east-1: arn:aws:mq:us-east-1:851889773113:broker:antipode-lambda-notifications-us:b-baa166e8-bb48-4a51-a14f-ff736dca3367
    host__us-east-1: b-baa166e8-bb48-4a51-a14f-ff736dca3367-1.mq.us-east-1.amazonaws.com
    secretmanager_arn__us-east-1: arn:aws:secretsmanager:us-east-1:851889773113:secret:antipode-mq-YcUFaZ
    # reader sg
    name__ap-southeast-1: antipode-lambda-sg
    arn__ap-southeast-1: arn:aws:mq:ap-southeast-1:641424397462:broker:antipode-lambda-sg:b-20f3cf89-7725-44b0-946b-19e84c03b81e
    host__ap-southeast-1: b-20f3cf89-7725-44b0-946b-19e84c03b81e-1.mq.ap-southeast-1.amazonaws.com
    secretmanager_arn__ap-southeast-1: arn:aws:secretsmanager:ap-southeast-1:641424397462:secret:antipode-mq-Bj2lHa
  cache:
    vpc_required: true
    # common
    port: 6379
    rendezvous_prefix: rendezvous
    # writer eu
    host__eu-central-1__writer: antipode-lambda-eu-001.gwkjt4.0001.euc1.cache.amazonaws.com
    # reader us
    host__us-east-1__reader: antipode-lambda-us-001.7jax8t.0001.use1.cache.amazonaws.com
    # reader sg
    host__ap-southeast-1__reader: antipode-lambda-sg.qynev5.ng.0001.apse1.cache.amazonaws.com

sqs_eval:
  name: antipode-lambda-eval
  # reader us
  url__us-east-1: https://sqs.us-east-1.amazonaws.com/851889773113/antipode-lambda-eval
  arn__us-east-1: arn:aws:sqs:us-east-1:851889773113:antipode-lambda-eval
  # reader sg
  url__ap-southeast-1: https://sqs.ap-southeast-1.amazonaws.com/851889773113/antipode-lambda-eval
  arn__ap-southeast-1: arn:aws:sqs:ap-southeast-1:851889773113:antipode-lambda-eval