AWSTemplateFormatVersion: '2010-09-09'
Transform: AWS::Serverless-2016-10-31
Description: Antipode Lambda - MySQL<>Dynamo - Writer
Resources:
  AntipodeLambdaMysqlDynamoWriter:
    Type: AWS::Serverless::Function
    Properties:
      Handler: writer.lambda_handler
      Runtime: python3.7
      Description: 'Antipode Lambda - MySQL<>Dynamo - Writer'
      MemorySize: 128
      Timeout: 900
      Role: arn:aws:iam::641424397462:role/antipode-lambda-admin
      Environment:
        Variables:
          MYSQL_HOST: antipode-lambda-eu.cluster-citztxl8ztvl.eu-central-1.rds.amazonaws.com
          MYSQL_PORT: 3306
          MYSQL_USER: antipode
          MYSQL_PASSWORD: antipode
          MYSQL_DB: antipode
          MYSQL_POST_TABLE_NAME: blobs
          MYSQL_NOTIFICATIONS_TABLE_NAME: keyvalue
          DYNAMO_POST_TABLE_NAME: blobs
          DYNAMO_NOTIFICATIONS_TABLE_NAME: keyvalue